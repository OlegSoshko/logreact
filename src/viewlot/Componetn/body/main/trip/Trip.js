import React, { Component } from 'react'
import classes from './Trip.module.css'

class Trip extends Component
{
    constructor(props){
        super(props)
        this.state = {
            mapOpen: false
        }
    }

    visibleChangeMapHandler = () => {
        this.setState ({
            mapOpen: !this.state.mapOpen
        })
    }

    render(){
        const route = this.props.route;
        const clsMap = [classes.Map]
        this.state.mapOpen ? clsMap.push(classes.open) : clsMap.push(classes.close)
        
        return(
            <div className={classes.Trip}>
                <div className={classes.Head}>
                    <span>Рейс 1</span>
                    <span onClick={this.visibleChangeMapHandler}>Показать карту</span>
                </div>
                <div className={clsMap.join(' ')}>
                    <div>

                    </div>
                </div>
                <div className={classes.Route}>
                    <div className={classes.Date}>
                        {
                            route.map((route, index)=>{
                                return(
                                <div key={index}>
                                    <strong>{route.date.day}</strong>
                                    <span>{route.date.time}</span>
                                </div>
                                )
                            })
                        }
                    </div>
                    <div className={classes.Icon}>
                        <svg width="38" height="44" viewBox="0 0 38 44" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M19 40L18.3848 41.3681L19 41.6447L19.6152 41.3681L19 40ZM19 40C19.6152 41.3681 19.6157 41.3678 19.6163 41.3675L19.6178 41.3669L19.6219 41.365L19.6345 41.3593L19.6768 41.3398C19.7125 41.3233 19.7629 41.2996 19.8272 41.2689C19.9557 41.2074 20.1395 41.1174 20.3707 40.9992C20.8329 40.7627 21.4859 40.4123 22.2662 39.9486C23.8237 39.0232 25.9051 37.6368 27.993 35.7927C32.1422 32.1279 36.5 26.485 36.5 18.9306C36.5 9.29778 28.6588 1.5 19 1.5C9.34117 1.5 1.5 9.29778 1.5 18.9306C1.5 26.485 5.85781 32.1279 10.007 35.7927C12.0949 37.6368 14.1763 39.0232 15.7338 39.9486C16.5141 40.4123 17.1671 40.7627 17.6293 40.9992C17.8605 41.1174 18.0443 41.2074 18.1728 41.2689C18.237 41.2996 18.2875 41.3233 18.3232 41.3398L18.3654 41.3593L18.3781 41.365L18.3822 41.3669L18.3837 41.3675C18.3843 41.3678 18.3848 41.3681 19 40Z" fill="#8F949B" stroke="white" stroke-width="3"/>
                        <ellipse cx="19" cy="19" rx="12" ry="12" fill="white"/>
                        <path d="M19 40L18.3848 41.3681L19 41.6447L19.6152 41.3681L19 40ZM19 40C19.6152 41.3681 19.6157 41.3678 19.6163 41.3675L19.6178 41.3669L19.6219 41.365L19.6345 41.3593L19.6768 41.3398C19.7125 41.3233 19.7629 41.2996 19.8272 41.2689C19.9557 41.2074 20.1395 41.1174 20.3707 40.9992C20.8329 40.7627 21.4859 40.4123 22.2662 39.9486C23.8237 39.0232 25.9051 37.6368 27.993 35.7927C32.1422 32.1279 36.5 26.485 36.5 18.9306C36.5 9.29778 28.6588 1.5 19 1.5C9.34117 1.5 1.5 9.29778 1.5 18.9306C1.5 26.485 5.85781 32.1279 10.007 35.7927C12.0949 37.6368 14.1763 39.0232 15.7338 39.9486C16.5141 40.4123 17.1671 40.7627 17.6293 40.9992C17.8605 41.1174 18.0443 41.2074 18.1728 41.2689C18.237 41.2996 18.2875 41.3233 18.3232 41.3398L18.3654 41.3593L18.3781 41.365L18.3822 41.3669L18.3837 41.3675C18.3843 41.3678 18.3848 41.3681 19 40Z" fill="#2BC744" stroke="white" stroke-width="3"/>
                        <ellipse cx="19" cy="19" rx="12" ry="12" fill="white"/>
                        <path d="M20.936 20.5879H17.064L16.1943 23H14.9375L18.4668 13.7578H19.5332L23.0688 23H21.8184L20.936 20.5879ZM17.4321 19.585H20.5742L19 15.2622L17.4321 19.585Z" fill="#2C2730"/>
                    </svg>
                    <svg width="1" height="27" viewBox="0 0 1 61" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <line x1="0.5" y1="2.18557e-08" x2="0.499997" y2="61" stroke="#D9DFE5"/>
                    </svg>

                    <svg width="38" height="44" viewBox="0 0 38 44" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M19 40L18.3848 41.3681L19 41.6447L19.6152 41.3681L19 40ZM19 40C19.6152 41.3681 19.6157 41.3678 19.6163 41.3675L19.6178 41.3669L19.6219 41.365L19.6345 41.3593L19.6768 41.3398C19.7125 41.3233 19.7629 41.2996 19.8272 41.2689C19.9557 41.2074 20.1395 41.1174 20.3707 40.9992C20.8329 40.7627 21.4859 40.4123 22.2662 39.9486C23.8237 39.0232 25.9051 37.6368 27.993 35.7927C32.1422 32.1279 36.5 26.485 36.5 18.9306C36.5 9.29778 28.6588 1.5 19 1.5C9.34117 1.5 1.5 9.29778 1.5 18.9306C1.5 26.485 5.85781 32.1279 10.007 35.7927C12.0949 37.6368 14.1763 39.0232 15.7338 39.9486C16.5141 40.4123 17.1671 40.7627 17.6293 40.9992C17.8605 41.1174 18.0443 41.2074 18.1728 41.2689C18.237 41.2996 18.2875 41.3233 18.3232 41.3398L18.3654 41.3593L18.3781 41.365L18.3822 41.3669L18.3837 41.3675C18.3843 41.3678 18.3848 41.3681 19 40Z" fill="#2C2730" stroke="white" stroke-width="3"/>
                        <ellipse cx="19" cy="19" rx="12" ry="12" fill="white"/>
                        <path d="M16.0229 23V13.7578H19.0444C20.0474 13.7578 20.8006 13.9652 21.3042 14.3799C21.812 14.7946 22.0659 15.4082 22.0659 16.2207C22.0659 16.6523 21.9432 17.0353 21.6978 17.3696C21.4523 17.6997 21.118 17.9557 20.6948 18.1377C21.1942 18.2773 21.5877 18.5439 21.8755 18.9375C22.1675 19.3268 22.3135 19.7923 22.3135 20.334C22.3135 21.1634 22.0448 21.8151 21.5073 22.2891C20.9699 22.763 20.2103 23 19.2285 23H16.0229ZM17.2417 18.6772V22.0034H19.2539C19.821 22.0034 20.2674 21.8574 20.5933 21.5654C20.9233 21.2692 21.0884 20.863 21.0884 20.3467C21.0884 19.2337 20.4832 18.6772 19.2729 18.6772H17.2417ZM17.2417 17.6997H19.0825C19.6157 17.6997 20.041 17.5664 20.3584 17.2998C20.68 17.0332 20.8408 16.6714 20.8408 16.2144C20.8408 15.7065 20.6927 15.3384 20.3965 15.1099C20.1003 14.8771 19.6496 14.7607 19.0444 14.7607H17.2417V17.6997Z" fill="#2C2730"/>
                    </svg>

                    </div>
                    <div className={classes.Address}>
                        {
                            route.map((route, index)=>{
                                return(
                                <div key={index}>
                                    <span><strong>{route.address.city},</strong>{route.address.street}, {route.address.home}</span>
                                    <small>{route.address.region} {route.address.country}</small>
                                </div>
                                )
                            })
                        }
                    </div>

                </div>
            </div>
        )
    }
}

export default Trip

